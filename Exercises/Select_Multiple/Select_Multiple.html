<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        body {
            display: inline
        }

        form {
            display: inline-flex;
        }
        
        li {
            list-style-type: none;
        }
        
        button {
            width: 40px;
            height: 60px;
            display: inline-flex;
            justify-content: center;
            float: none;
            width: 20%;
        }

        select {
            width: 150px;
            height: 400px;
            font-size: 30px;
        }
    </style>
</head>
<body>
    <form action="">
        <select name="chooser" id="chooser" multiple size="10">
            <option value="농구" id="basket" onclick="add01()">농구</option>
            <option value="야구" id="base" onclick="add02()">야구</option>
            <option value="축구" id="foot" onclick="add03()">축구</option>
            <option value="탁구" id="table" onclick="add04()">탁구</option>
        </select>

        <ul>
        <li><button type="button" onclick="rightOne()">&gt;</button></li>
        <li><button type="button">&lt;</button></li>
        <li><button type="button">&gt;&gt;</button></li>
        <li><button type="button">&lt;&lt;</button></li>
        </ul>

        <select name="catcher" id="catcher" multiple size="10"></select>

    </form>    

    <script>
        // 하나를 선택하면, 문자열에 더하기
        // 선택을 해제하면 문자열에서 지우기
        // 버튼을 누르면 문자열에서 꺼내서 옮기기
        var arr = new Array();
        var basketFlag = false;
        var baseFlag = false;
        var footFlag = false;
        var tableFlag = false;

        function add01() {
            basketFlag = !basketFlag;
            var basket = document.getElementById('basket').value;
            if(basketFlag) {
                if(arr.indexOf("농구") != -1) { return; }
                arr.push(basket);
                console.log(arr);
            } else {
                var find = arr.indexOf(basket);
                arr.splice(find,1);
                console.log(arr);
            }
        }

        function add02() {
            baseFlag = !baseFlag;
            var base = document.getElementById('base').value;
            if(baseFlag) {
                if(arr.indexOf("야구") != -1) { return; }
                arr.push(base);
                console.log(arr);
            } else {
                var find = arr.indexOf(base);
                arr.splice(find,1);
                console.log(arr);
            }
        }
        function add03() {
            footFlag = !footFlag;
            var foot = document.getElementById('foot').value;
            if(footFlag) {
                if(arr.indexOf("축구") != -1) { return; }
                arr.push(foot);
                console.log(arr);
            } else {
                var find = arr.indexOf(foot);
                arr.splice(find,1);
                console.log(arr);
            }
        }
        function add04() {
            tableFlag = !tableFlag;
            var table = document.getElementById('table').value;
            if(tableFlag) {
                if(arr.indexOf("탁구") != -1) { return; }
                arr.push(table);
                console.log(arr);
            } else {
                var find = arr.indexOf(table);
                arr.splice(find,1);
                console.log(arr);
            }
        }

        function rightOne() {
            var catcher = document.getElementById("catcher");
            for(var i = 0; i < arr.length; i++) { 
                catcher.remove(0);
            }
            for(var i = 0; i < arr.length; i++) {
                var option = document.createElement("option");
                option.text = arr[i];
                catcher.add(option);
            }

            var select = document.getElementById("chooser");
            for(var i = 0; i < select.options.length; i++) {
                if(arr[i] === select.options[i].text) {
                    select.options[i] = null;
                }
            }
        }
        
        

    </script>
</body>
</html>